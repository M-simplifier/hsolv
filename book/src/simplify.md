# 簡約の戦略

対応コード: `src/HSolv/Simplify.hs`

簡約は以下の三層で構成されています。

1. 代数的な基本則（`x + 0 = x` など）
2. 正規化（加算・乗算のネストを平坦化し、係数をまとめる）
3. 関数固有の簡約（`sin(0) = 0`, `sqrt(1) = 1`）

数式の簡約:
- `simplifyAdd` が同類項を集約
- `simplifyMul` が係数と積を正規化
- 平方因子の抽出で `sqrt(8)` を `2*sqrt(2)` へ

真偽式の簡約:
- `true && x` → `x`
- `false || x` → `x`
- 比較の定数畳み込み

実装のコツ:
- 正規化は再帰で「集めてから作る」方式が安定
- 正規化後に規則適用することで表記が安定しやすい
